
### 小程序购物车

#### 购物车需求

单选，全选，取消按钮，根据选中的商品计算出总价格

单个商品购买数量的增加和减少

删除商品，当购物车为空时，页面会变为空购物车的布局

#### 购物车需要的数据

首先是一个商品列表(carts),列表里面的单品需要：商品图（image）,商品名（title）,单价（price），数量（num）,是否选中（selected）,商品（id）

然后左下角的全选，需要一个字段（selectAllStatus）表示是否全选了,右下角的总价格（totalPrice）

最后需要知道购物车是否为空（hasList）

#### 注意

购物车列表数据我们一般是通过请求服务器拿到的数据，所以我们放在生命周期函数里给 carts 赋值。想到每次进到购物车都要获取购物车的最新状态，而onLoad和onReady只在初始化的时候执行一次，所以我需要把请求放在 onShow 函数里

#### 购物车逻辑

计算总价：总价=选中的商品1的价格*数量 + 选中的商品2的 价格*数量 + ... 根据公式;页面中的其他操作会导致总价格变化的都需要调用该方法

选择事件：点击时选中，载点击又变成没选中状态，其实就是改变isSelect字段，通过data-index="{{index}}"把当前商品在类表数组中的下标传给事件

全选事件：全选就是根据全选状态selectAllStatus去改变每个商品的isSelect

增减数量：点击+号，count加1，点击-号，如果count>1,则减1

删除商品：点击删除按钮则从购物车类表中删除当前元素，删除只有如果购物车为空，改变购物车为空标识hasList为false



